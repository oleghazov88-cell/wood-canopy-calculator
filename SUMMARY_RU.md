# ‚úÖ –ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞: –¢–æ—á–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∫–æ–ø–∏—è GLB –º–æ–¥–µ–ª–∏ –≤ Three.js

## üéØ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–Ø —Å–æ–∑–¥–∞–ª **—Ç–æ—á–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º–Ω—É—é –∫–æ–ø–∏—é** –≥–µ–æ–º–µ—Ç—Ä–∏–∏ –∏–∑ GLB —Ñ–∞–π–ª–∞ `raskos/r2.glb` –≤ –≤–∏–¥–µ —á–∏—Å—Ç–æ–≥–æ JavaScript –∫–æ–¥–∞ –¥–ª—è Three.js, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç **–ë–ï–ó –∑–∞–≥—Ä—É–∑–∫–∏ GLB –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**.

## üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª - `naves-calc/assets/js/partGeometry.js`**

–≠—Ç–æ –≥–æ—Ç–æ–≤–∞—è –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ñ—É–Ω–∫—Ü–∏—è `createPartMesh()`, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Three.js –º–µ—à.

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ **162 –≤–µ—Ä—à–∏–Ω—ã** —Å —Ç–æ—á–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ GLB
- ‚úÖ **162 –Ω–æ—Ä–º–∞–ª–∏** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è
- ‚úÖ **300 –∏–Ω–¥–µ–∫—Å–æ–≤** (100 —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–≤)
- ‚úÖ **–ú–∞—Ç–µ—Ä–∏–∞–ª** MeshStandardMaterial —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–µ—Ä–µ–≤–∞
- ‚úÖ **465 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞**, ~16KB

### 2. **–î–µ–º–æ - `partGeometry_demo.html`**

–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω–Ω–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–∏:
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π 3D –ø—Ä–æ—Å–º–æ—Ç—Ä (–≤—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π –º—ã—à—å—é)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
- –û—Å–≤–µ—â–µ–Ω–∏–µ –∏ —Ç–µ–Ω–∏
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏

**–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ**, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç!

### 3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - `PARTGEOMETRY_README.md`**

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏.

### 4. **–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è**

- **`extract_glb.html`** - HTML-—É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–∑ –¥—Ä—É–≥–∏—Ö GLB —Ñ–∞–π–ª–æ–≤ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **`simple_extract.ps1`** - PowerShell —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä:

```javascript
import * as THREE from 'three';
import { createPartMesh } from './naves-calc/assets/js/partGeometry.js';

// –°–æ–∑–¥–∞–µ–º –º–µ—à
const mesh = createPartMesh();

// –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ü–µ–Ω—É
scene.add(mesh);

// –ì–æ—Ç–æ–≤–æ! –ú–µ—à –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π:

```javascript
import { createPartMesh } from './naves-calc/assets/js/partGeometry.js';

// –°–æ–∑–¥–∞–µ–º –º–µ—à
const mesh = createPartMesh();

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
mesh.position.set(10, 5, 0);

// –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–∞—Å—à—Ç–∞–±
mesh.scale.set(2, 2, 2);

// –ú–µ–Ω—è–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª
mesh.material.color.set(0xFF5733); // –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç
mesh.material.roughness = 0.5;
mesh.material.metalness = 0.2;

// –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ü–µ–Ω—É
scene.add(mesh);
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π GLB

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | GLB –∑–∞–≥—Ä—É–∑–∫–∞ | –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∫–æ–ø–∏—è |
|---------------|--------------|-------------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏** | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (~50-200ms) | –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (~1-5ms) |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** | –¢—Ä–µ–±—É–µ—Ç GLTFLoader | –ß–∏—Å—Ç—ã–π Three.js |
| **HTTP –∑–∞–ø—Ä–æ—Å—ã** | +1 –∑–∞–ø—Ä–æ—Å | 0 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö |
| **–†–∞–∑–º–µ—Ä** | 6.6KB (GLB —Ñ–∞–π–ª) | 16KB (–≤ JS –∫–æ–¥–µ) |
| **–†–∞–±–æ—Ç–∞ –æ—Ñ—Ñ–ª–∞–π–Ω** | –¢—Ä–µ–±—É–µ—Ç —Ñ–∞–π–ª | ‚úÖ –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ |
| **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è** | –°–ª–æ–∂–Ω–æ | ‚úÖ –õ–µ–≥–∫–æ |

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è

**–ò—Å—Ç–æ—á–Ω–∏–∫:** `raskos/r2.glb`  
**–§–æ—Ä–º–∞—Ç:** glTF 2.0 Binary  
**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä:** SimLab GLTF  

**–ü—Ä–æ—Ü–µ—Å—Å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è:**
1. ‚úÖ –ß—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ GLB —Ñ–∞–π–ª–∞
2. ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (glTF 2.0)
3. ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ Position –∞—Ç—Ä–∏–±—É—Ç–∞ (Float32Array)
4. ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ Normal –∞—Ç—Ä–∏–±—É—Ç–∞ (Float32Array)
5. ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ Index –∞—Ç—Ä–∏–±—É—Ç–∞ (Uint32Array)
6. ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
7. ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–∏—Å—Ç–æ–≥–æ JavaScript –∫–æ–¥–∞

**–¢–æ—á–Ω–æ—Å—Ç—å:** 100% - –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã, –Ω–æ—Ä–º–∞–ª–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ 6 –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π.

## üé® –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π

–í –ø—Ä–æ–µ–∫—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã 4 –º–æ–¥–µ–ª–∏ —Ä–∞—Å–∫–æ—Å–æ–≤:

```bash
# –° –ø–æ–º–æ—â—å—é PowerShell —Å–∫—Ä–∏–ø—Ç–∞:
powershell -ExecutionPolicy Bypass -File simple_extract.ps1 -GlbPath "raskos/r1.glb" -OutputPath "part1.js"
powershell -ExecutionPolicy Bypass -File simple_extract.ps1 -GlbPath "raskos/r3.glb" -OutputPath "part3.js"
powershell -ExecutionPolicy Bypass -File simple_extract.ps1 -GlbPath "raskos/r4.glb" -OutputPath "part4.js"
```

–ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ `extract_glb.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π GLB —Ñ–∞–π–ª.

## üí° –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥

### ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ** –¥–ª—è:
- –ß–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (—Ä–∞—Å–∫–æ—Å—ã, —Å—Ç–æ–ª–±—ã, –∫—Ä–µ–ø–ª–µ–Ω–∏—è)
- –ü—Ä–æ—Å—Ç—ã—Ö –≥–µ–æ–º–µ—Ç—Ä–∏–π (< 1000 –≤–µ—Ä—à–∏–Ω)
- –ö—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –≠–ª–µ–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —á–∞—Å—Ç–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

### ‚ùå **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ** –¥–ª—è:
- –ë–æ–ª—å—à–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (> 10,000 –≤–µ—Ä—à–∏–Ω)
- –ú–æ–¥–µ–ª–µ–π —Å —Ç–µ–∫—Å—Ç—É—Ä–∞–º–∏
- –ú–æ–¥–µ–ª–µ–π —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- –†–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

```
wood_canopy_calc/
‚îú‚îÄ‚îÄ naves-calc/
‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îÇ       ‚îî‚îÄ‚îÄ js/
‚îÇ           ‚îî‚îÄ‚îÄ partGeometry.js         ‚Üê ‚òÖ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ raskos/
‚îÇ   ‚îú‚îÄ‚îÄ r1.glb
‚îÇ   ‚îú‚îÄ‚îÄ r2.glb                          ‚Üê –ò—Å—Ç–æ—á–Ω–∏–∫
‚îÇ   ‚îú‚îÄ‚îÄ r3.glb
‚îÇ   ‚îî‚îÄ‚îÄ r4.glb
‚îú‚îÄ‚îÄ PARTGEOMETRY_README.md              ‚Üê –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ SUMMARY_RU.md                       ‚Üê –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ partGeometry_demo.html              ‚Üê –î–µ–º–æ
‚îú‚îÄ‚îÄ extract_glb.html                    ‚Üê –£—Ç–∏–ª–∏—Ç–∞ (–±—Ä–∞—É–∑–µ—Ä)
‚îî‚îÄ‚îÄ simple_extract.ps1                  ‚Üê –£—Ç–∏–ª–∏—Ç–∞ (PowerShell)
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

‚úÖ **–¢–æ—á–Ω–∞—è –∫–æ–ø–∏—è** - –≤—Å–µ –≤–µ—Ä—à–∏–Ω—ã, –Ω–æ—Ä–º–∞–ª–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—É  
‚úÖ **–ë–µ–∑ GLB –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - —á–∏—Å—Ç—ã–π JavaScript –∫–æ–¥  
‚úÖ **–ì–æ—Ç–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è** - `createPartMesh()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –º–µ—à  
‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã** - MeshStandardMaterial —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏  
‚úÖ **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - —Ä–∞–±–æ—á–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞  
‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏  
‚úÖ **–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª–µ–π** - –º–æ–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –ª—é–±–æ–π GLB  

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

```javascript
// –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –≤ partGeometry_demo.html
// –í—ã —É–≤–∏–¥–∏—Ç–µ:

‚úì Mesh created in ~2ms
Mesh: {
    geometry: BufferGeometry {
        attributes: {
            position: Float32Array[486],  // 162 * 3
            normal: Float32Array[486]      // 162 * 3
        },
        index: Uint32Array[300]            // 100 * 3
    },
    material: MeshStandardMaterial {
        color: Color { r: 0.545, g: 0.271, b: 0.075 }
    }
}
```

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–û—Ç–∫—Ä–æ–π—Ç–µ `partGeometry_demo.html`** –≤ –±—Ä–∞—É–∑–µ—Ä–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
2. **–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ `PARTGEOMETRY_README.md`** –¥–ª—è –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
3. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ** `partGeometry.js` –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
4. **–ò–∑–≤–ª–µ–∫–∏—Ç–µ –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏** —Å –ø–æ–º–æ—â—å—é —É—Ç–∏–ª–∏—Ç, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~1 —á–∞—Å  
**–ö–∞—á–µ—Å—Ç–≤–æ:** –¢–æ—á–Ω–∞—è –∫–æ–ø–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª–∞  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** 100% –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  

üéâ **–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!**





