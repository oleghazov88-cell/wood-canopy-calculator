# 👁️ ВИЗУАЛЬНОЕ СРАВНЕНИЕ РАЗМЕРОВ

## 📏 **РАЗМЕРЫ ЭЛЕМЕНТОВ В ОДНОМ МАСШТАБЕ**

### В миллиметрах:

```
СТОЛБЫ: 150×150 мм
┏━━━━━━━━━━━━━━━┓
┃               ┃ <- 150 мм
┃               ┃
┃               ┃
┃               ┃
┗━━━━━━━━━━━━━━━┛
    <- 150 мм ->


БАЛКИ (var-1): 200×200 мм
┏━━━━━━━━━━━━━━━━━━━┓
┃                   ┃ <- 200 мм
┃                   ┃
┃                   ┃
┃                   ┃
┗━━━━━━━━━━━━━━━━━━━┛
     <- 200 мм ->


РАСКОСЫ: 50×50 мм (длина 800 мм)
┏━━━━━┓
┃     ┃ <- 50 мм
┗━━━━━┛
<-50->

     /  <- 800 мм длина
    /
   /
  /
```

### Визуальное соотношение:

```
Столб 150 мм:     ████████████████
Балка 200 мм:     ████████████████████
Раскос 50 мм:     ████

Соотношение: Раскос в 3-4 раза тоньше столба!
```

---

## 🎯 **НА 3D МОДЕЛИ**

### Если столб высотой 3 метра (3000 мм):

```
                   Крыша
                     ^
                    /|\
                   / | \
    Балка         /  |  \
    =============================  <- 3.0 м (высота балки)
          |      /       |
          |     /        |  <- Раскос 800 мм длиной
          |    /         |
          |   /          |
          |  /           |
          | /            |
          |/             |
    ------+--------+-----+------     <- 2.6 м (beamHeight - 0.4)
          |        |     |
          |        |     |
          |        |     |
          |        |     |
    ======+========+======+======     <- 0 м (земля)
       Столб    Раскос  Столб
       150x150   50x50  150x150
```

### Позиционирование раскоса:

```javascript
// Левый раскос
X: -width/2 - postDimensions.width/2
   = -(ширина навеса)/2 - 0.075
   = -(6)/2 - 0.075
   = -3.075 м (за пределами левого столба!)

Y: beamHeight - braceLength/2
   = 3.0 - 0.4
   = 2.6 м

Z: позиция вдоль навеса (0, 2.5, 5, 7.5, 10... в зависимости от длины)
```

---

## ⚠️ **ОБНАРУЖЕНА ПРОБЛЕМА!**

### **X-позиция раскоса неправильная:**

```
Столб находится на: X = -width/2 = -3.0 м
Раскос находится на: X = -width/2 - postDimensions.width/2 = -3.075 м

❌ Раскос на 75 мм ЛЕВЕЕ столба! (за пределами столба)
```

### **Правильное расположение должно быть:**

```
Раскос должен соединять:
  - Нижнюю часть столба (на высоте ~1.5-2 м)
  - Нижнюю часть балки (на высоте ~2.8 м)
  
X-позиция раскоса должна быть:
  - НА столбе: X = -width/2 (центр столба)
  - ИЛИ рядом: X = -width/2 + небольшое смещение
```

---

## 🔧 **ИСПРАВЛЕНИЕ**

### Вариант 1: Разместить раскос на столбе

```javascript
// Левый раскос - от столба к балке
leftBrace.position.set(
    -width/2,                        // X: на столбе (не за ним!)
    height - braceLength/2 + 0.2,    // Y: от середины высоты столба
    z
);
```

### Вариант 2: Разместить раскос между столбом и балкой

```javascript
// Левый раскос - диагональ от столба к балке
leftBrace.position.set(
    -width/2 + 0.1,                  // X: слегка внутрь от столба
    height + beamDimensions.height/2 - braceLength/2,  // Y: под балкой
    z
);
```

### Вариант 3: Классическое расположение

```javascript
// Раскос идет от низа балки к верху столба под углом
const braceBottomY = height * 0.7;  // 70% высоты столба
const braceTopY = height;            // Высота столба (уровень балки)
const braceHeight = braceTopY - braceBottomY;  // Высота раскоса

leftBrace.position.set(
    -width/2,                        // X: на столбе
    (braceBottomY + braceTopY) / 2,  // Y: середина между низом и верхом
    z
);
```

---

## 📊 **СРАВНЕНИЕ ВАРИАНТОВ**

| Параметр | Текущее | Вариант 1 | Вариант 2 | Вариант 3 |
|----------|---------|-----------|-----------|-----------|
| X позиция | `-width/2 - 0.075` ❌ | `-width/2` ✅ | `-width/2 + 0.1` ✅ | `-width/2` ✅ |
| Y позиция | `beamHeight - 0.4` | `height - 0.2` | `height + 0.1 - 0.4` | `height * 0.85` |
| Видимость | ? | ✅ | ✅ | ✅ |
| Реалистичность | ❌ | ✅ | ✅ | ✅✅ |

---

## 💡 **РЕКОМЕНДАЦИЯ**

**Использовать Вариант 3** - это классическое расположение раскосов в строительстве навесов. Раскос идет диагонально от точки на столбе (примерно 70-80% высоты) к нижней части балки.

---

**Следующий шаг:** Исправить X-позицию раскоса и убедиться, что он видим на 3D модели!




























































<<<<<<< Current (Your changes)

=======
>>>>>>> Incoming (Background Agent changes)






