# üèóÔ∏è –§–æ—Ä–º—É–ª–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ñ–µ—Ä–º—ã

## üéØ –û–ø–∏—Å–∞–Ω–∏–µ

–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º—É–ª–∞ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ñ–µ—Ä–º—ã –≤ 3D –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–µ –Ω–∞–≤–µ—Å–∞. –§–µ—Ä–º–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–æ–π —Å—Ö–µ–º–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∂–µ—Å—Ç–∫–æ—Å—Ç–∏.

## üìê –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–µ—Ä–º—ã:

```javascript
const trussParams = {
    span: width,                    // –ü—Ä–æ–ª–µ—Ç —Ñ–µ—Ä–º—ã (—à–∏—Ä–∏–Ω–∞ –Ω–∞–≤–µ—Å–∞)
    rise: roofHeight,               // –ü–æ–¥—ä–µ–º —Ñ–µ—Ä–º—ã (–≤—ã—Å–æ—Ç–∞ –∫–æ–Ω—å–∫–∞)
    sectionSize: trussDimensions,   // –†–∞–∑–º–µ—Ä—ã —Å–µ—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ñ–µ—Ä–º—ã
    bottomChordHeight: height + beamDimensions.height / 2  // –í—ã—Å–æ—Ç–∞ –Ω–∏–∂–Ω–µ–≥–æ –ø–æ—è—Å–∞
};
```

### –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∑–ª–æ–≤ —Ñ–µ—Ä–º—ã:

```javascript
const nodes = {
    leftBottom: { x: -L/2, y: bottomChordHeight },      // –õ–µ–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–∑–µ–ª
    rightBottom: { x: L/2, y: bottomChordHeight },      // –ü—Ä–∞–≤—ã–π –Ω–∏–∂–Ω–∏–π —É–∑–µ–ª
    ridge: { x: 0, y: bottomChordHeight + H },          // –ö–æ–Ω—å–∫–æ–≤—ã–π —É–∑–µ–ª
    leftQuarter: { x: -L/4, y: bottomChordHeight },     // –õ–µ–≤—ã–π —á–µ—Ç–≤–µ—Ä—Ç–Ω–æ–π —É–∑–µ–ª
    rightQuarter: { x: L/4, y: bottomChordHeight },     // –ü—Ä–∞–≤—ã–π —á–µ—Ç–≤–µ—Ä—Ç–Ω–æ–π —É–∑–µ–ª
    center: { x: 0, y: bottomChordHeight }              // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –Ω–∏–∂–Ω–∏–π —É–∑–µ–ª
};

// –¢–æ—á–∫–∏ –¥–ª—è —Ç–æ—Ä—Ü–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã—Ö –Ω–æ–≥
const leftRafterEnd = { x: -beamSize.width/2, y: bottomChordHeight + H };
const rightRafterEnd = { x: beamSize.width/2, y: bottomChordHeight + H };
```

## üîß –§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–∞

### 1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:
- **L = span** - –ø—Ä–æ–ª–µ—Ç —Ñ–µ—Ä–º—ã (—à–∏—Ä–∏–Ω–∞ –Ω–∞–≤–µ—Å–∞)
- **H = Math.max(rise, 0.1)** - –ø–æ–¥—ä–µ–º —Ñ–µ—Ä–º—ã (–º–∏–Ω–∏–º—É–º 0.1 –º)
- **bottomChordHeight = height + beamDimensions.height / 2** - –≤—ã—Å–æ—Ç–∞ –Ω–∏–∂–Ω–µ–≥–æ –ø–æ—è—Å–∞

### 2. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —É–∑–ª–æ–≤:

#### –ù–∏–∂–Ω–∏–π –ø–æ—è—Å:
- **–õ–µ–≤—ã–π —É–∑–µ–ª:** `x = -L/2, y = bottomChordHeight`
- **–ü—Ä–∞–≤—ã–π —É–∑–µ–ª:** `x = L/2, y = bottomChordHeight`
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–∑–µ–ª:** `x = 0, y = bottomChordHeight`

#### –í–µ—Ä—Ö–Ω–∏–π –ø–æ—è—Å (–∫–æ–Ω–µ–∫):
- **–ö–æ–Ω—å–∫–æ–≤—ã–π —É–∑–µ–ª:** `x = 0, y = bottomChordHeight + H`
- **–õ–µ–≤—ã–π –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–ø–∏–ª—å–Ω–æ–π –Ω–æ–≥–∏:** `x = -beamSize.width/2, y = bottomChordHeight + H`
- **–ü—Ä–∞–≤—ã–π –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–ø–∏–ª—å–Ω–æ–π –Ω–æ–≥–∏:** `x = beamSize.width/2, y = bottomChordHeight + H`

#### –ß–µ—Ç–≤–µ—Ä—Ç–Ω—ã–µ —É–∑–ª—ã:
- **–õ–µ–≤—ã–π —á–µ—Ç–≤–µ—Ä—Ç–Ω–æ–π:** `x = -L/4, y = bottomChordHeight`
- **–ü—Ä–∞–≤—ã–π —á–µ—Ç–≤–µ—Ä—Ç–Ω–æ–π:** `x = L/4, y = bottomChordHeight`

### 3. –≠–ª–µ–º–µ–Ω—Ç—ã —Ñ–µ—Ä–º—ã:

#### –ù–∏–∂–Ω–∏–π –ø–æ—è—Å:
```
leftBottom ‚Üí rightBottom
```

#### –°—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏:
```
leftBottom ‚Üí leftRafterEnd
rightRafterEnd ‚Üí rightBottom
```

#### –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ç–æ–π–∫–∞:
```
center ‚Üí ridge
```

#### –†–∞—Å–∫–æ—Å—ã:
```
leftQuarter ‚Üí leftRafterEnd
rightQuarter ‚Üí rightRafterEnd
```

#### –ö–æ–Ω–µ–∫:
```
ridge (—Å–ø–ª–æ—à–Ω–æ–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª–∏–Ω–æ–π 0 –º)
```

## üèóÔ∏è –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤:
```javascript
const nodes = {
    leftBottom: { x: -L/2, y: bottomChordHeight },
    rightBottom: { x: L/2, y: bottomChordHeight },
    ridge: { x: 0, y: bottomChordHeight + H },
    leftQuarter: { x: -L/4, y: bottomChordHeight },
    rightQuarter: { x: L/4, y: bottomChordHeight },
    center: { x: 0, y: bottomChordHeight }
};
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
```javascript
// –ù–∏–∂–Ω–∏–π –ø–æ—è—Å
trussGroup.add(this.createBeam(nodes.leftBottom, nodes.rightBottom, beamSize, woodMaterial));

// –°—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏ (—Ç–æ—Ä—Ü–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)
trussGroup.add(this.createBeam(nodes.leftBottom, leftRafterEnd, beamSize, woodMaterial));
trussGroup.add(this.createBeam(rightRafterEnd, nodes.rightBottom, beamSize, woodMaterial));

// –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ç–æ–π–∫–∞
trussGroup.add(this.createBeam(nodes.center, nodes.ridge, beamSize, woodMaterial));

// –†–∞—Å–∫–æ—Å—ã
trussGroup.add(this.createBeam(nodes.leftQuarter, leftRafterEnd, beamSize, woodMaterial));
trussGroup.add(this.createBeam(nodes.rightQuarter, rightRafterEnd, beamSize, woodMaterial));

// –ö–æ–Ω–µ–∫ (–¥–ª–∏–Ω–æ–π 0 –º)
const ridgeBeam = this.createRidgeBeam(nodes.ridge, beamSize, woodMaterial);
trussGroup.add(ridgeBeam);
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–ª–∫–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏:
```javascript
createBeam(startNode, endNode, sectionSize, material) {
    const dx = endNode.x - startNode.x;
    const dy = endNode.y - startNode.y;
    const length = Math.sqrt(dx * dx + dy * dy);
    
    const beamGeometry = new THREE.BoxGeometry(length, sectionSize.height, sectionSize.width);
    const beam = new THREE.Mesh(beamGeometry, material);
    
    const centerX = (startNode.x + endNode.x) / 2;
    const centerY = (startNode.y + endNode.y) / 2;
    beam.position.set(centerX, centerY, 0);
    
    const angle = Math.atan2(dy, dx);
    beam.rotation.z = angle;
    
    return beam;
}
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—å–∫–∞:
```javascript
createRidgeBeam(ridgeNode, sectionSize, material) {
    const ridgeLength = 0; // –î–ª–∏–Ω–∞ –∫–æ–Ω—å–∫–∞ (0 —Å–º)
    const ridgeGeometry = new THREE.BoxGeometry(ridgeLength, sectionSize.height, sectionSize.width);
    const ridgeBeam = new THREE.Mesh(ridgeGeometry, material);
    
    ridgeBeam.position.set(ridgeNode.x, ridgeNode.y, 0);
    ridgeBeam.castShadow = true;
    ridgeBeam.receiveShadow = true;
    
    return ridgeBeam;
}
```

## üìä –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

### –£–≥–ª—ã –Ω–∞–∫–ª–æ–Ω–∞ —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã—Ö –Ω–æ–≥:
- **–õ–µ–≤—ã–π —Å–∫–∞—Ç:** `Œ± = arctan(H / (L/2)) = arctan(2H/L)`
- **–ü—Ä–∞–≤—ã–π —Å–∫–∞—Ç:** `Œ± = arctan(H / (L/2)) = arctan(2H/L)`

### –î–ª–∏–Ω—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
- **–ù–∏–∂–Ω–∏–π –ø–æ—è—Å:** `L`
- **–°—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏:** `‚àö((L/2)¬≤ + H¬≤)`
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ç–æ–π–∫–∞:** `H`
- **–†–∞—Å–∫–æ—Å—ã:** `‚àö((L/4)¬≤ + H¬≤)`
- **–ö–æ–Ω–µ–∫:** `0 –º` (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞)

### –í—ã—Å–æ—Ç—ã —É–∑–ª–æ–≤:
- **–ù–∏–∂–Ω–∏–µ —É–∑–ª—ã:** `bottomChordHeight`
- **–ö–æ–Ω—å–∫–æ–≤—ã–π —É–∑–µ–ª:** `bottomChordHeight + H`

## üéØ –°—Ö–µ–º–∞ —Ñ–µ—Ä–º—ã

```
                    leftRafterEnd              rightRafterEnd
                    (-beamSize.width/2,        (beamSize.width/2,
                     bottomChordHeight + H)     bottomChordHeight + H)
                        /|\                        /|\
                       / | \                      / | \
                      /  |  \                    /  |  \
                     /   |   \                  /   |   \
                    /    |    \                /    |    \
                   /     |     \              /     |     \
                  /      |      \            /      |      \
                 /       |       \          /       |       \
                /        |        \        /        |        \
               /         |         \      /         |         \
              /          |          \    /          |          \
             /           |           \  /           |           \
            /            |            \/            |            \
           /             |            /\            |             \
          /              |          /    \          |              \
         /               |        /        \        |               \
        /                |      /            \      |                \
       /                 |    /                \    |                 \
      /                  |  /                    \  |                  \
     /                   |/                        \|                   \
    /                    |                          |                    \
   /                     |                          |                     \
  /                      |                          |                      \
 /                       |                          |                       \
/                        |                          |                        \
leftQuarter              center              rightQuarter
(-L/4, bottomChordHeight) (0, bottomChordHeight) (L/4, bottomChordHeight)
         \                        |                        /
          \                       |                       /
           \                      |                      /
            \                     |                     /
             \                    |                    /
              \                   |                   /
               \                  |                  /
                \                 |                 /
                 \                |                /
                  \               |               /
                   \              |              /
                    \             |             /
                     \            |            /
                      \           |           /
                       \          |          /
                        \         |         /
                         \        |        /
                          \       |       /
                           \      |      /
                            \     |     /
                             \    |    /
                              \   |   /
                               \  |  /
                                \ | /
                                 \|/
leftBottom                    rightBottom
(-L/2, bottomChordHeight)     (L/2, bottomChordHeight)
```

## ‚ö° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –ü—Ä–æ—á–Ω–æ—Å—Ç—å –∏ –∂–µ—Å—Ç–∫–æ—Å—Ç—å:
- **–¢—Ä–µ—É–≥–æ–ª—å–Ω–∞—è —Å—Ö–µ–º–∞** - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫—É—é –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å
- **–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ç–æ–π–∫–∞** - –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–†–∞—Å–∫–æ—Å—ã** - –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ø–æ–ø–µ—Ä–µ—á–Ω—É—é –∂–µ—Å—Ç–∫–æ—Å—Ç—å
- **–¢–æ—Ä—Ü–µ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** - —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏ —Å–º—ã–∫–∞—é—Ç—Å—è —Ç–æ—Ä—Ü–∞–º–∏, –æ–±—Ä–∞–∑—É—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫
- **–¢–æ—á–µ—á–Ω—ã–π –∫–æ–Ω–µ–∫** - —Å–æ–∑–¥–∞–µ—Ç –∂–µ—Å—Ç–∫–∏–π —É–∑–µ–ª –≤ –≤–µ—Ä—à–∏–Ω–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞

### –≠–∫–æ–Ω–æ–º–∏—á–Ω–æ—Å—Ç—å:
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** - 6 –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–†–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞** - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å:
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Ä–∞–∑–º–µ—Ä—ã –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–ª–µ—Ç–æ–≤
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞–≤–µ—Å–∞

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–§–µ—Ä–º–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–æ–π —Å—Ö–µ–º–µ —Å:
- ‚úÖ **6 –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏** - –Ω–∏–∂–Ω–∏–π –ø–æ—è—Å, 2 —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏, —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ç–æ–π–∫–∞, 2 —Ä–∞—Å–∫–æ—Å–∞
- ‚úÖ **–¢–æ—Ä—Ü–µ–≤—ã–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º** - —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏ —Å–º—ã–∫–∞—é—Ç—Å—è —Ç–æ—Ä—Ü–∞–º–∏, –æ–±—Ä–∞–∑—É—è —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫
- ‚úÖ **–¢–æ—á–µ—á–Ω—ã–º –∫–æ–Ω—å–∫–æ–º** - –∂–µ—Å—Ç–∫–∏–π —É–∑–µ–ª –≤ –≤–µ—Ä—à–∏–Ω–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- ‚úÖ **–†–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –≥–µ–æ–º–µ—Ç—Ä–∏–µ–π** - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ –Ω–∞–≥—Ä—É–∑–∫—É
- ‚úÖ **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏** - –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –Ω–∞–≤–µ—Å–∞
- ‚úÖ **–ü—Ä–æ—á–Ω–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π** - –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–µ—Å—É—â—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å

**–§–µ—Ä–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –ø–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–æ–π —Å—Ö–µ–º–µ —Å —Ç–æ—Ä—Ü–µ–≤—ã–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã—Ö –Ω–æ–≥!** üéØ
