# ๐ ะะกะฌ ะกะขะะะะะะฌะะซะฅ ะะะ ะะ ะะะะฅะะะ ะะะะะ

**ะะฐัะฐ:** 27 ะพะบััะฑัั 2025  
**ะะตััะธั:** 2.3.0  
**ะกัะฐััั:** โ ะะตะฐะปะธะทะพะฒะฐะฝะพ

---

## ๐ฏ ะะะะะะะะะ

ะขะตะฟะตัั **ะบะพะพัะดะธะฝะฐัะฝะฐั ะพัั ัััะพะฟะธะปัะฝัั ะฝะพะณ ะฟัะพัะพะดะธั ะฟะพ ะะะะฅะะะ ะะะะะ**, ะฐ ะฝะต ะฟะพ ัะตะฝััั ัะตัะตะฝะธั.

---

## ๐ ะะะ ะญะขะ ะะะะะขะะะข

### ะะ ะธะทะผะตะฝะตะฝะธั (v2.2.3):

```
        โ Y (ะฒะฒะตัั)
        โ
        โ   โโโโโโโโโโโโโโโโโ  โ ะฒะตััะฝัั ะณัะฐะฝั (+b/2 ะพั ะพัะธ)
        โ   โ               โ
        โ   โ               โ
โโโโโโโโโผโโโโผโโโโโโโโโโโโโโโโผโโโโโ ะะกะฌ (ัะตะฝัั ัะตัะตะฝะธั)
        โ   โ               โ
        โ   โ               โ
        โ   โโโโโโโโโโโโโโโโโ  โ ะฝะธะถะฝัั ะณัะฐะฝั (-b/2 ะพั ะพัะธ)
        โ
```

### ะะะกะะ ะธะทะผะตะฝะตะฝะธั (v2.3.0):

```
        โ Y (ะฒะฒะตัั)
        โ
โโโโโโโโโผโโโโผโโโโโโโโโโโโโโโโผโโโโโ ะะกะฌ (ะะะะฅะะฏะฏ ะะะะะฌ)
        โ   โโโโโโโโโโโโโโโโโ  โ ะฒะตััะฝัั ะณัะฐะฝั (ะฝะฐ ะพัะธ)
        โ   โ               โ
        โ   โ               โ
        โ   โ               โ  โ ัะตัะตะฝะธะต ะฑัััะฐ
        โ   โ               โ
        โ   โโโโโโโโโโโโโโโโโ  โ ะฝะธะถะฝัั ะณัะฐะฝั (-b ะฝะธะถะต ะพัะธ)
        โ
```

---

## ๐ง ะะะะะะะะฆะะฏ

### 1. ะฃะทะปั ัะตัะผั

**ะะพะด (ัััะพะบะธ 2061-2070):**

```javascript
for (let i = 0; i <= N; i++) {
    const x = -L/2 + L * i / N;
    
    // ะััะพัะฐ ะฒะตััะฝะตะน ะณัะฐะฝะธ (ัะฐะผ, ะณะดะต ะดะพะปะถะฝะฐ ะฑััั ะบัะพะฒะปั)
    // ะขะตะฟะตัั ะะกะฌ ะฟัะพัะพะดะธั ะฟะพ ะฒะตััะฝะตะน ะณัะฐะฝะธ
    const yTop = bottomChordHeight + H * (1 - Math.abs(2 * i / N - 1));
    
    bot.push(new THREE.Vector3(x, bottomChordHeight, 0));
    top.push(new THREE.Vector3(x, yTop, 0));  // โ ะะกะฌ = ะฒะตััะฝัั ะณัะฐะฝั
}
```

**ะะตะทัะปััะฐั:**
- `top[i]` ะทะฐะดะฐะตั ะฟะพะปะพะถะตะฝะธะต **ะฒะตััะฝะตะน ะณัะฐะฝะธ**
- ะะฐัะฐะผะตัั `H` ะพะทะฝะฐัะฐะตั ะฒััะพัั **ะฒะตััะฝะตะน ะณัะฐะฝะธ** ะฝะฐะด ะฝะธะถะฝะธะผ ะฟะพััะพะผ

---

### 2. ะกะผะตัะตะฝะธะต ะณะตะพะผะตััะธะธ

**ะะพะด (ัััะพะบะธ 2020-2026):**

```javascript
// ะกะพะทะดะฐะตะผ ะณะตะพะผะตััะธั ะฒะดะพะปั ะพัะธ X
const geom = new THREE.BoxGeometry(L, b, t);

// ะกะผะตัะฐะตะผ ะณะตะพะผะตััะธั ะฒะฝะธะท ะฝะฐ b/2, ััะพะฑั ะะะะฅะะฏะฏ ะะะะะฌ ะฑัะปะฐ ะฝะฐ ะพัะธ (y=0)
// ะะพ ัะผะพะปัะฐะฝะธั ัะตะฝัั ะฒ (0,0,0), ะฒะตัั ะฝะฐ +b/2, ะฝะธะท ะฝะฐ -b/2
// ะะพัะปะต ัะผะตัะตะฝะธั: ะฒะตัั ะฝะฐ 0, ะฝะธะท ะฝะฐ -b
geom.translate(0, -b / 2, 0);
```

**ะะฐะบ ัะฐะฑะพัะฐะตั `translate()`:**

**ะะ ัะผะตัะตะฝะธั:**
```
Y
โ
โ  +b/2 โโโโโโโโโโ  ะฒะตัั
โ    0 โโโโโโโโโโโ  ัะตะฝัั (ะพัั X)
โ -b/2 โโโโโโโโโโ  ะฝะธะท
```

**ะะะกะะ ัะผะตัะตะฝะธั ะฝะฐ (0, -b/2, 0):**
```
Y
โ
โ    0 โโโโโโโโโโ  ะฒะตัั (ะะกะฌ X ัะตะฟะตัั ะทะดะตัั!)
โ -b/2 โโโโโโโโโโ  ัะตะฝัั ะณะตะพะผะตััะธะธ
โ   -b โโโโโโโโโโ  ะฝะธะท
```

---

## ๐ ะะะะะะ ะะะะะะะะะข

### ะะฐัะฐะผะตััั:
- `bottomChordHeight` = 3.0 ะผ
- `H` (rise) = 2.4 ะผ
- `b` (ะฒััะพัะฐ ัะตัะตะฝะธั) = 0.12 ะผ (120 ะผะผ)

### ะะพะฝัะบะพะฒัะน ัะทะตะป (i = N/2 = 4):

**ะัั (ะฒะตััะฝัั ะณัะฐะฝั):**
```
yTop = bottomChordHeight + H = 3.0 + 2.4 = 5.4 ะผ
```

**ะะพะพัะดะธะฝะฐัั ะฑัััะฐ ะฒ ะผะธัะพะฒะพะน ัะธััะตะผะต:**
```
ะะตััะฝัั ะณัะฐะฝั: y = 5.4 ะผ      (ะะกะฌ)
ะฆะตะฝัั ะฑัััะฐ:   y = 5.34 ะผ     (ะพัั - b/2)
ะะธะถะฝัั ะณัะฐะฝั:  y = 5.28 ะผ     (ะพัั - b)
```

**ะ ะปะพะบะฐะปัะฝะพะน ัะธััะตะผะต ะฑัััะฐ:**
```
ะะตััะฝัั ะณัะฐะฝั: y_local = 0       (ะฝะฐ ะพัะธ X)
ะฆะตะฝัั ะฑัััะฐ:   y_local = -b/2    (-0.06 ะผ)
ะะธะถะฝัั ะณัะฐะฝั:  y_local = -b      (-0.12 ะผ)
```

---

## ๐จ ะะะะฃะะะะะะฆะะฏ

### ะะธะด ัะฑะพะบั ัะตัะผั ั ะบะพะพัะดะธะฝะฐัะฐะผะธ:

```
                   5.40 ะผ โโโโโโโโ  โ ะะะะฅะะฏะฏ ะะะะะฌ = ะะกะฌ
                         /    โ    \     (ะบะพะฝะตะบ)
                        /     โ     \
                       /      โ      \
            โโโโโโโโโโ/โโโโโโโโโโโโโโโ\โโโโโโโโโโ
            โ        /        โ        \        โ
            โ       /         โ         \       โ  120 ะผะผ (b)
            โ      /          โ          \      โ  ัะตัะตะฝะธะต
            โโโโโโ/โโโโโโโโโโโโโโโโโโโโโโโ\โโโโโโ
             5.28 ะผ           โ                  โ ะฝะธะถะฝัั ะณัะฐะฝั
                 /            โ            \
                /             โ             \
               /              โ              \
      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
            3.00 ะผ                                   โ ะฝะธะถะฝะธะน ะฟะพัั
       (bottomChordHeight)

        โโโโโโโโโโ 2.40 ะผ (H) โโโโโโโโโโ
```

---

## โ ะะะะะะฃะฉะะกะขะะ

### 1. ะััะผะพะต ัะพะพัะฒะตัััะฒะธะต ะบัะพะฒะปะต
- โ ะัั = ะฒะตััะฝัั ะณัะฐะฝั = ะผะตััะพ ัะบะปะฐะดะบะธ ะบัะพะฒะปะธ
- โ ะะฐัะฐะผะตัั H = ัะตะฐะปัะฝะฐั ะฒััะพัะฐ ะบัะพะฒะปะธ
- โ ะะต ะฝัะถะฝะพ ะดะพะฑะฐะฒะปััั ัะผะตัะตะฝะธั

### 2. ะฃะฟัะพัะตะฝะฝัะน ัะฐััะตั
- โ ะััะพัะฐ ะบัะพะฒะปะธ = yTop (ะฝะฐะฟััะผัั)
- โ ะฃะทะปั top[i] ะทะฐะดะฐัั ะฟะพะปะพะถะตะฝะธะต ะบัะพะฒะปะธ
- โ ะะฝััะธัะธะฒะฝะพ ะฟะพะฝััะฝะพ

### 3. ะัะฐะฒะธะปัะฝะฐั ัััะบะพะฒะบะฐ ะฒ ะบะพะฝัะบะต
- โ ะะตััะฝะธะต ะณัะฐะฝะธ ะฒัััะตัะฐัััั ะฒ ัะฐััะตัะฝะพะน ัะพัะบะต
- โ ะัั ะฟัะพัะพะดะธั ะฟะพ ะปะธะฝะธะธ ะบะพะฝัะบะฐ
- โ ะะธะทัะฐะปัะฝะพ ะฟัะฐะฒะธะปัะฝะพ

### 4. ะกะพะพัะฒะตัััะฒะธะต ัััะพะธัะตะปัะฝะพะน ะฟัะฐะบัะธะบะต
- โ ะ ัะตััะตะถะฐั ัะบะฐะทัะฒะฐะตััั ะฒััะพัะฐ ะฒะตััะฐ ัััะพะฟะธะป
- โ ะัะพะฒะปั ัะบะปะฐะดัะฒะฐะตััั ะฝะฐ ะฒะตััะฝัั ะณัะฐะฝั
- โ ะกัะฐะฝะดะฐััะฝัะน ะฟะพะดัะพะด

---

## ๐ ะคะะะะฃะะซ

### ะััะพัั ะดะปั ัะทะปะฐ i:

```javascript
// ะะตััะฝัั ะณัะฐะฝั = ะะกะฌ
y_ะฒะตัั = bottomChordHeight + H * (1 - |2*i/N - 1|)

// ะฆะตะฝัั ะณะตะพะผะตััะธะธ ะฑัััะฐ
y_ัะตะฝัั = y_ะฒะตัั - b/2

// ะะธะถะฝัั ะณัะฐะฝั
y_ะฝะธะท = y_ะฒะตัั - b
```

### ะ ะปะพะบะฐะปัะฝะพะน ัะธััะตะผะต ะฑัััะฐ:

```javascript
y_local_ะฒะตัั = 0        // ะฝะฐ ะพัะธ
y_local_ัะตะฝัั = -b/2    // ะฝะธะถะต ะพัะธ
y_local_ะฝะธะท = -b        // ะตัะต ะฝะธะถะต
```

---

## ๐ ะะะะฏะะะ ะะ ะะะฃะะะ ะญะะะะะะขะซ

### 1. ะัะพะฒะปั

ะัะพะฒะปั ัะตะฟะตัั ัะบะปะฐะดัะฒะฐะตััั **ัะพัะฝะพ** ะฝะฐ ัะทะปั ะฒะตััะฝะตะณะพ ะฟะพััะฐ:

```javascript
// ะััะพัะฐ ะบัะพะฒะปะธ ะฒ ัะพัะบะต i
roofHeight = top[i].y  // ะฝะฐะฟััะผัั, ะฑะตะท ัะผะตัะตะฝะธะน!
```

### 2. ะะฐัะบะพัั

ะะฐัะบะพัั ะฟะพะดะบะปััะฐัััั ะบ **ะพััะผ** ัััะพะฟะธะปัะฝัั ะฝะพะณ, ะบะพัะพััะต ัะตะฟะตัั ะฝะฐ ะฒะตััะฝะธั ะณัะฐะฝัั:

```javascript
// ะะฐัะบะพั ะพั bot[i] ะบ top[i+1]
// ะขะพัะบะฐ ะฟะพะดะบะปััะตะฝะธั ะบ ัััะพะฟะธะปะต = ะฒะตััะฝัั ะณัะฐะฝั
```

ะญัะพ ะฟัะฐะฒะธะปัะฝะพ, ัะฐะบ ะบะฐะบ ะฒ ัะตะฐะปัะฝัั ะบะพะฝััััะบัะธัั ัะฐัะบะพัั ะบัะตะฟัััั ะบ ะฒะตััะฝะตะน ัะฐััะธ ัััะพะฟะธะป.

### 3. ะะธะถะฝะธะน ะฟะพัั

ะััะฐะตััั ะฑะตะท ะธะทะผะตะฝะตะฝะธะน:
```javascript
bot[i] = new THREE.Vector3(x, bottomChordHeight, 0)
```

---

## ๐งฎ ะะะขะะะะขะะะ ะฃะกะะะซะฅ ะะะะะะะะ

ะฃัะพะฒัะต ะฟะพะดัะตะทะบะธ ัะฐะฑะพัะฐัั **ะพัะฝะพัะธัะตะปัะฝะพ ะพัะธ**, ะบะพัะพัะฐั ัะตะฟะตัั ะฝะฐ ะฒะตััะฝะตะน ะณัะฐะฝะธ:

```
        ะฃะทะตะป
         โ
    โโโโโโดโโโโโ  โ ะพัั (ะฒะตััะฝัั ะณัะฐะฝั)
   โฑ     โ     โฒ
  โฑ  โโโโโโโโโ  โฒ  โ ัะตัะตะฝะธะต ะฑัััะฐ
 โฑ   โ   โ   โ   โฒ
โฑ    โโโโโโโโโ    โฒ
         โ
```

ะคะพัะผัะปะฐ ัะผะตัะตะฝะธั:
```
s = (b / 2) / tan(ฯ / 2)
```

ะณะดะต `b` - ะฒััะพัะฐ ัะตัะตะฝะธั, `ฯ` - ัะณะพะป ะผะตะถะดั ัะตะณะผะตะฝัะฐะผะธ.

ะะพะดัะตะทะบะธ ัะบะพัะฐัะธะฒะฐัั ะฑััั ะฒะดะพะปั **ะพัะธ** (ะฒะตััะฝะตะน ะณัะฐะฝะธ).

---

## ๐ ะกะะะะะะะะ ะะะะกะะ

| ะะฐัะฐะผะตัั | v2.2.3 | v2.3.0 |
|----------|--------|--------|
| ะะพะปะพะถะตะฝะธะต ะพัะธ | ะฆะตะฝัั ัะตัะตะฝะธั | โ ะะตััะฝัั ะณัะฐะฝั |
| ะฃะทะปั top[i] | ะฆะตะฝัั ะฑัััะฐ | โ ะะตััะฝัั ะณัะฐะฝั |
| ะกะผะตัะตะฝะธะต ะณะตะพะผะตััะธะธ | ะะตั | โ ะะฝะธะท ะฝะฐ b/2 |
| ะััะพัะฐ ะฒะตััะฝะตะน ะณัะฐะฝะธ | yTop + b/2 | โ yTop |
| ะััะพัะฐ ะฝะธะถะฝะตะน ะณัะฐะฝะธ | yTop - b/2 | โ yTop - b |
| ะะฐัะฐะผะตัั H | ะััะพัะฐ ัะตะฝััะฐ | โ ะััะพัะฐ ะฒะตััะฐ |

---

## ๐ง ะะะะะะะะะซะ ะะะ

### ะคะฐะนะป: `naves-calc/assets/js/naves-calc.bundle.js`

**1. ะฃะทะปั ัะตัะผั (ัััะพะบะธ 2061-2070):**

**ะะซะะ:**
```javascript
const yTopSurface = bottomChordHeight + H * (1 - Math.abs(2 * i / N - 1));
const yTop = yTopSurface - b / 2;  // ัะผะตัะตะฝะธะต ะฒะฝะธะท
```

**ะกะขะะะ:**
```javascript
// ะขะตะฟะตัั ะะกะฌ ะฟัะพัะพะดะธั ะฟะพ ะฒะตััะฝะตะน ะณัะฐะฝะธ
const yTop = bottomChordHeight + H * (1 - Math.abs(2 * i / N - 1));
```

**2. ะคัะฝะบัะธั makeMember (ัััะพะบะธ 2020-2026):**

**ะะซะะ:**
```javascript
const geom = new THREE.BoxGeometry(L, b, t);
// ะฆะตะฝัั ะณะตะพะผะตััะธะธ ะฝะฐ ะพัะธ
```

**ะกะขะะะ:**
```javascript
const geom = new THREE.BoxGeometry(L, b, t);
// ะกะผะตัะฐะตะผ ะณะตะพะผะตััะธั ะฒะฝะธะท ะฝะฐ b/2
geom.translate(0, -b / 2, 0);
```

---

## ๐งช ะะะะะะะะ

### ะะพัะปะต ะพะฑะฝะพะฒะปะตะฝะธั ัััะฐะฝะธัั ะฟัะพะฒะตัััะต:

1. โ **ะะพะฝัะบะพะฒัะน ัะทะตะป:**
   - ะะตััะฝะธะต ะณัะฐะฝะธ ัััะพะฟะธะป ะฒัััะตัะฐัััั ะฝะฐ ัะฐััะตัะฝะพะน ะฒััะพัะต
   - ะะธะฝะธั ะบะพะฝัะบะฐ ะฝะฐ ะฒััะพัะต H

2. โ **ะะธะทัะฐะปัะฝะพะต ะฟะพะปะพะถะตะฝะธะต:**
   - ะััััั ะฒัะณะปัะดัั ัะฐะบ, ะฑัะดัะพ ะปะตะถะฐั ะฒะตััะฝะตะน ะณัะฐะฝัั ะฝะฐ ะพัะตะฒะพะน ะปะธะฝะธะธ
   - ะกะตัะตะฝะธะต ะฒะธะดะฝะพ ะฝะธะถะต ะปะธะฝะธะธ

3. โ **ะัะพะฒะปั:**
   - ะัะปะธ ะดะพะฑะฐะฒะธัั ะบัะพะฒะปั ะฝะฐ ะฒััะพัะต top[i].y, ะพะฝะฐ ะปัะถะตั ะฝะฐ ะฒะตััะฝะธะต ะณัะฐะฝะธ

4. โ **ะฃัะพะฒัะต ะฟะพะดัะตะทะบะธ:**
   - ะะฐะฑะพัะฐัั ะบะพััะตะบัะฝะพ
   - ะะปะพัะฝะฐั ัััะบะพะฒะบะฐ ะฒ ัะทะปะฐั

---

## ๐ก ะะะะะะะะะะ

### ะะปั ัะฐััะตัะฐ ะบัะพะฒะปะธ:

```javascript
// ะััะพัะฐ ะบัะพะฒะปะธ ะฒ ะปัะฑะพะน ัะพัะบะต
const roofY = top[i].y;  // ะฝะฐะฟััะผัั!

// ะััะพัะฐ ะบะพะฝัะบะฐ
const ridgeY = top[N/2].y;  // ะผะฐะบัะธะผะฐะปัะฝะฐั ัะพัะบะฐ
```

### ะะปั ะฟัะพะฒะตัะบะธ ัะฐะทะผะตัะพะฒ:

```javascript
// ะัะพะฒะตัะธัั, ััะพ ะฟะฐัะฐะผะตัั H ัะพะพัะฒะตัััะฒัะตั ัะตะฐะปัะฝะพะน ะฒััะพัะต
console.log('ะััะพัะฐ ะบะพะฝัะบะฐ:', top[N/2].y - bottomChordHeight);
// ะะพะปะถะฝะพ ะฑััั ัะฐะฒะฝะพ H
```

---

## ๐ฏ ะะะะฃะะฌะขะะข

ะขะตะฟะตัั ัะตัะผะฐ ะธะผะตะตั:
- โ ะัั ัััะพะฟะธะปัะฝัั ะฝะพะณ **ะฟะพ ะฒะตััะฝะตะน ะณัะฐะฝะธ**
- โ ะะฐัะฐะผะตัั H ะพะทะฝะฐัะฐะตั **ัะตะฐะปัะฝัั ะฒััะพัั ะฒะตััะฐ**
- โ ะััะผะพะต ัะพะพัะฒะตัััะฒะธะต **ะผะตััั ัะบะปะฐะดะบะธ ะบัะพะฒะปะธ**
- โ ะะฝััะธัะธะฒะฝะพ ะฟะพะฝััะฝะฐั ะณะตะพะผะตััะธั
- โ ะกะพะพัะฒะตัััะฒะธะต ัััะพะธัะตะปัะฝัะผ ัะตััะตะถะฐะผ

**ะัะพัะตััะธะพะฝะฐะปัะฝะฐั ะบะพะฝััััะบัะธั ั ะฟัะฐะฒะธะปัะฝัะผะธ ะพััะผะธ ะบะพะพัะดะธะฝะฐั!** ๐๏ธโจ

---

**ะะพะฝะตั ะดะพะบัะผะตะฝัะฐ**

ะะตะฐะปะธะทะพะฒะฐะฝะพ: 27 ะพะบััะฑัั 2025  
ะะตััะธั: 2.3.0  
ะกัะฐััั: โ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั


