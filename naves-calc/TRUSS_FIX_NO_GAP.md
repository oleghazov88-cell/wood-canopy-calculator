# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –©–ï–õ–ò –í –¢–û–†–¶–ï–í–û–ú –°–¢–´–ö–ï –°–¢–†–û–ü–ò–õ–¨–ù–´–• –ù–û–ì

**–î–∞—Ç–∞:** 27 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 2.1.1  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

---

## üéØ –ü–†–û–ë–õ–ï–ú–ê

–í –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –º–µ–∂–¥—É —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–º–∏ –Ω–æ–≥–∞–º–∏ –≤ –∫–æ–Ω—å–∫–µ –æ–±—Ä–∞–∑–æ–≤—ã–≤–∞–ª–∞—Å—å —â–µ–ª—å –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Ç–æ—Ä—Ü–µ–≤–æ–≥–æ —Å—Ä–µ–∑–∞.

### –ü—Ä–∏—á–∏–Ω–∞:
1. –û–±–µ —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏ –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ä–µ–∑–∞
2. –ù–µ —É—á–∏—Ç—ã–≤–∞–ª—Å—è –∑–Ω–∞–∫ —É–≥–ª–∞ –Ω–∞–∫–ª–æ–Ω–∞ –±–∞–ª–∫–∏
3. –°—Ä–µ–∑—ã –Ω–µ —Å—Ç—ã–∫–æ–≤–∞–ª–∏—Å—å —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### 1. –¢–æ—á–∫–∏ —Å—Ç—ã–∫–æ–≤–∫–∏
–û–±–µ —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏ —Ç–µ–ø–µ—Ä—å –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è **—Ä–æ–≤–Ω–æ –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ** - –≤ —Ü–µ–Ω—Ç—Ä–µ –∫–æ–Ω—å–∫–∞:

```javascript
const leftRafterEnd = { 
    x: 0, 
    y: bottomChordHeight + H
};

const rightRafterEnd = { 
    x: 0, 
    y: bottomChordHeight + H
};
```

### 2. –£—á–µ—Ç –∑–Ω–∞–∫–∞ —É–≥–ª–∞ –≤ —Å—Ä–µ–∑–µ

–í —Ñ—É–Ω–∫—Ü–∏–∏ `createBeveledBeam` –¥–æ–±–∞–≤–ª–µ–Ω —É—á–µ—Ç –∑–Ω–∞–∫–∞ —É–≥–ª–∞ –Ω–∞–∫–ª–æ–Ω–∞:

```javascript
const tanAngle = Math.tan(Math.abs(bevelAngle));
const bevelOffsetAbs = tanAngle > 0.001 ? (h / 2) / tanAngle : 0;

// –£—á–∏—Ç—ã–≤–∞–µ–º –∑–Ω–∞–∫ —É–≥–ª–∞ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ä–µ–∑–∞
const bevelOffset = bevelOffsetAbs * Math.sign(bevelAngle);
```

### 3. –ì–µ–æ–º–µ—Ç—Ä–∏—è —Å—Ä–µ–∑–∞

**–î–ª—è –ª–µ–≤–æ–π —Å—Ç—Ä–æ–ø–∏–ª—å–Ω–æ–π –Ω–æ–≥–∏** (—É–≥–æ–ª –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π `+rafterAngle`):
- –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å —Å—Ä–µ–∑–∞: `length/2 + bevelOffset` (–≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤–ø–µ—Ä–µ–¥)
- –í–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å —Å—Ä–µ–∑–∞: `length/2 - bevelOffset` (—É—Ç–æ–ø–ª–µ–Ω–∞ –Ω–∞–∑–∞–¥)

**–î–ª—è –ø—Ä–∞–≤–æ–π —Å—Ç—Ä–æ–ø–∏–ª—å–Ω–æ–π –Ω–æ–≥–∏** (—É–≥–æ–ª –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π `-rafterAngle`):
- –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å —Å—Ä–µ–∑–∞: `length/2 + bevelOffset` (—É—Ç–æ–ø–ª–µ–Ω–∞ –Ω–∞–∑–∞–¥, —Ç.–∫. bevelOffset –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π)
- –í–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å —Å—Ä–µ–∑–∞: `length/2 - bevelOffset` (–≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤–ø–µ—Ä–µ–¥)

---

## üìê –ú–ê–¢–ï–ú–ê–¢–ò–ö–ê

### –§–æ—Ä–º—É–ª–∞ —Å–º–µ—â–µ–Ω–∏—è —Å—Ä–µ–∑–∞:

```
bevelOffset = (h / 2) / tan(|rafterAngle|) √ó sign(rafterAngle)
```

–≥–¥–µ:
- `h` - –≤—ã—Å–æ—Ç–∞ —Å–µ—á–µ–Ω–∏—è —Å—Ç—Ä–æ–ø–∏–ª—å–Ω–æ–π –Ω–æ–≥–∏
- `rafterAngle` - —É–≥–æ–ª –Ω–∞–∫–ª–æ–Ω–∞ —Å—Ç—Ä–æ–ø–∏–ª—å–Ω–æ–π –Ω–æ–≥–∏ –∫ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏
- `sign(rafterAngle)` - –∑–Ω–∞–∫ —É–≥–ª–∞ (+1 –¥–ª—è –ª–µ–≤–æ–π –Ω–æ–≥–∏, -1 –¥–ª—è –ø—Ä–∞–≤–æ–π)

### –¶–µ–Ω—Ç—Ä —Å—Ä–µ–∑–∞:

–¶–µ–Ω—Ç—Ä –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å—Ä–µ–∑–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ä–æ–≤–Ω–æ –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ –º–µ–∂–¥—É –≤–µ—Ä—Ö–Ω–µ–π –∏ –Ω–∏–∂–Ω–µ–π —Ç–æ—á–∫–∞–º–∏:

```
centerX = (length/2 + bevelOffset + length/2 - bevelOffset) / 2 = length/2 ‚úì
```

–ü–æ—Å–ª–µ –ø–æ–≤–æ—Ä–æ—Ç–∞ –±–∞–ª–∫–∏ –Ω–∞ —É–≥–æ–ª `rafterAngle` –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –ø–æ–∑–∏—Ü–∏—é `(centerX, centerY)`, —Ü–µ–Ω—Ç—Ä —Å—Ä–µ–∑–∞ –ø–æ–ø–∞–¥–∞–µ—Ç **—Ç–æ—á–Ω–æ –≤ –∫–æ–Ω–µ–∫** (0, bottomChordHeight + H).

---

## üé® –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–Ø

```
        –ö–æ–Ω–µ–∫ (0, H)
             |
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     /‚îÇ      ‚îÇ      ‚îÇ\
    / ‚îÇ      ‚îÇ      ‚îÇ \
   /  ‚îÇ      ‚îÇ      ‚îÇ  \
  /   ‚îÇ–õ–µ–≤–∞—è ‚îÇ–ü—Ä–∞–≤–∞—è‚îÇ   \
 /    ‚îÇ—Å—Ç—Ä–æ–ø–∏‚îÇ—Å—Ç—Ä–æ–ø–∏‚îÇ    \
/     ‚îÇ –ª–∞   ‚îÇ –ª–∞   ‚îÇ     \
      ‚îÇ      ‚îÇ      ‚îÇ
      ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ
      ‚îÇ      0      ‚îÇ
      ‚îÇ             ‚îÇ
```

**–î–û –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
     –©–µ–ª—å!
       ‚ïë
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ï´‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 /‚îÇ    ‚ïë    ‚îÇ\
  ‚îÇ    ‚ïë    ‚îÇ
```

**–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
  –°—Ç—ã–∫ –±–µ–∑ —â–µ–ª–∏
       ‚îÇ
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 /‚îÇ         ‚îÇ\
  ‚îÇ         ‚îÇ
```

---

## üîç –ò–ó–ú–ï–ù–ï–ù–ù–´–ï –§–ê–ô–õ–´

### `naves-calc/assets/js/naves-calc.bundle.js`

#### –§—É–Ω–∫—Ü–∏—è `buildTruss()` (—Å—Ç—Ä–æ–∫–∏ 2014-2027):
- –£–ø—Ä–æ—â–µ–Ω —Ä–∞—Å—á–µ—Ç –∫–æ–Ω–µ—á–Ω—ã—Ö —Ç–æ—á–µ–∫ —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã—Ö –Ω–æ–≥
- –û–±–µ –Ω–æ–≥–∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è –≤ —Ç–æ—á–∫–µ (0, bottomChordHeight + H)

#### –§—É–Ω–∫—Ü–∏—è `createBeveledBeam()` (—Å—Ç—Ä–æ–∫–∏ 2087-2115):
- –î–æ–±–∞–≤–ª–µ–Ω —É—á–µ—Ç –∑–Ω–∞–∫–∞ —É–≥–ª–∞: `Math.sign(bevelAngle)`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ–æ—Ä–º—É–ª–∞ –≤–µ—Ä—à–∏–Ω —Å—Ä–µ–∑–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

- ‚úÖ –°—Ç—Ä–æ–ø–∏–ª—å–Ω—ã–µ –Ω–æ–≥–∏ —Å—Ç—ã–∫—É—é—Ç—Å—è **–ë–ï–ó –©–ï–õ–ò**
- ‚úÖ –¶–µ–Ω—Ç—Ä —Å—Ç—ã–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è **–†–û–í–ù–û –ü–û–°–ï–†–ï–î–ò–ù–ï** –∫–æ–Ω—å–∫–∞
- ‚úÖ –¢–æ—Ä—Ü–µ–≤—ã–µ —Å—Ä–µ–∑—ã **–°–ò–ú–ú–ï–¢–†–ò–ß–ù–´**
- ‚úÖ –ì–µ–æ–º–µ—Ç—Ä–∏—è **–ö–û–†–†–ï–ö–¢–ù–ê** –¥–ª—è –≤—Å–µ—Ö —É–≥–ª–æ–≤ –Ω–∞–∫–ª–æ–Ω–∞

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ —É–≥–ª–∞—Ö:
- 15¬∞ (–ø–æ–ª–æ–≥–∞—è –∫—Ä—ã—à–∞)
- 30¬∞ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫—Ä—ã—à–∞)
- 45¬∞ (–∫—Ä—É—Ç–∞—è –∫—Ä—ã—à–∞)

–í—Å–µ —Å—Ç—ã–∫–∏ –±–µ–∑ —â–µ–ª–µ–π! ‚úì

---

## üìù –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø

1. –§–æ—Ä–º—É–ª–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±–æ–≥–æ —É–≥–ª–∞ –Ω–∞–∫–ª–æ–Ω–∞ —Å—Ç—Ä–æ–ø–∏–ª—å–Ω—ã—Ö –Ω–æ–≥
2. –£—á–µ—Ç –∑–Ω–∞–∫–∞ —É–≥–ª–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—ã–∫–æ–≤–∫–∏
3. –¶–µ–Ω—Ç—Ä —Å—Ä–µ–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∫–æ–Ω–µ–∫ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–º–µ—â–µ–Ω–∏–π
4. –†–∞—Å–∫–æ—Å—ã —Ç–∞–∫–∂–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ —Ç–æ—á–∫–∞–º —Å—Ç—ã–∫–∞

---

**–ö–æ–Ω–µ—Ü –¥–æ–∫—É–º–µ–Ω—Ç–∞**


